services:
  vectorstore:
    build:
      context: ../..
      dockerfile: src/vectorstore/Dockerfile
    ports:
      - "8014:8014"
    volumes:
      - ./workspace:/workspace
      - ./src:/app/src/vectorstore/src
    environment:
      - TRANSPORT=sse
      - PORT=8014
      - EMBEDDING_TYPE=${EMBEDDING_TYPE:-openai}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_EMBEDDING_MODEL=${OPENAI_EMBEDDING_MODEL:-text-embedding-3-small}
