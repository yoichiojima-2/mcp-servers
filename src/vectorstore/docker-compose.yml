services:
  vectorstore:
    build: .
    ports:
      - "8002:8002"
    volumes:
      - ./workspace:/workspace
      - ./src:/vectorstore/src
    environment:
      - TRANSPORT=sse
      - EMBEDDING_TYPE=${EMBEDDING_TYPE:-openai}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_EMBEDDING_MODEL=${OPENAI_EMBEDDING_MODEL:-text-embedding-3-small}
    command: make serve
